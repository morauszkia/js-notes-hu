<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>DOM manipuláció</title>

<script src="site_libs/header-attrs-2.24/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/readable.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>



<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    background-color: #ffffff;
    color: #a0a0a0;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #a0a0a0;  padding-left: 4px; }
div.sourceCode
  { color: #1f1c1b; background-color: #ffffff; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span { color: #1f1c1b; } /* Normal */
code span.al { color: #bf0303; background-color: #f7e6e6; font-weight: bold; } /* Alert */
code span.an { color: #ca60ca; } /* Annotation */
code span.at { color: #0057ae; } /* Attribute */
code span.bn { color: #b08000; } /* BaseN */
code span.bu { color: #644a9b; font-weight: bold; } /* BuiltIn */
code span.cf { color: #1f1c1b; font-weight: bold; } /* ControlFlow */
code span.ch { color: #924c9d; } /* Char */
code span.cn { color: #aa5500; } /* Constant */
code span.co { color: #898887; } /* Comment */
code span.cv { color: #0095ff; } /* CommentVar */
code span.do { color: #607880; } /* Documentation */
code span.dt { color: #0057ae; } /* DataType */
code span.dv { color: #b08000; } /* DecVal */
code span.er { color: #bf0303; text-decoration: underline; } /* Error */
code span.ex { color: #0095ff; font-weight: bold; } /* Extension */
code span.fl { color: #b08000; } /* Float */
code span.fu { color: #644a9b; } /* Function */
code span.im { color: #ff5500; } /* Import */
code span.in { color: #b08000; } /* Information */
code span.kw { color: #1f1c1b; font-weight: bold; } /* Keyword */
code span.op { color: #1f1c1b; } /* Operator */
code span.ot { color: #006e28; } /* Other */
code span.pp { color: #006e28; } /* Preprocessor */
code span.re { color: #0057ae; background-color: #e0e9f8; } /* RegionMarker */
code span.sc { color: #3daee9; } /* SpecialChar */
code span.ss { color: #ff5500; } /* SpecialString */
code span.st { color: #bf0303; } /* String */
code span.va { color: #0057ae; } /* Variable */
code span.vs { color: #bf0303; } /* VerbatimString */
code span.wa { color: #bf0303; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>







<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Programozás jegyzeteim</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Vanilla JS
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="vanilla/js-variables.html">JavaScript alapok</a>
    </li>
    <li>
      <a href="vanilla/js-program-flow.html">Program Flow Control</a>
    </li>
    <li>
      <a href="vanilla/js-functions.html">Függvények</a>
    </li>
    <li>
      <a href="vanilla/js-data-structures.html">Adatstruktúrák</a>
    </li>
    <li>
      <a href="vanilla/js-array-methods.html">Haladó Array műveletek</a>
    </li>
    <li>
      <a href="vanilla/js-dom-manipulation.html">DOM manipuláció</a>
    </li>
    <li>
      <a href="vanilla/js-strings.html">Stringek</a>
    </li>
    <li>
      <a href="vanilla/js-numbers-dates.html">Számok és dátumok</a>
    </li>
    <li>
      <a href="vanilla/js-regex.html">Reguláris kifejezések</a>
    </li>
    <li>
      <a href="vanilla/js-async.html">Asynchronous JavaScript</a>
    </li>
    <li>
      <a href="vanilla/js-oop.html">OOP</a>
    </li>
    <li>
      <a href="vanilla/js-dev-practice.html">JavaScript Development a gyakorlatban</a>
    </li>
    <li>
      <a href="vanilla/js-api.html">Hasznos API-k</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Typescript
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="ts-basics.html">TypeScript basics</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Front-End JS Libraries&amp;Frameworks
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="front-end/jquery-basics.html">jQuery</a>
    </li>
    <li>
      <a href="front-end/react-basics.html">React</a>
    </li>
    <li>
      <a href="front-end/redux-basics.html">Redux</a>
    </li>
    <li>
      <a href="front-end/next.html">Next</a>
    </li>
    <li>
      <a href="front-end/vue-basics.html">Vue.js</a>
    </li>
    <li>
      <a href="front-end/angular.html">Angular</a>
    </li>
    <li>
      <a href="front-end/svelte.html">Svelte</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Back-End JS
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="back-end/node-js.html">Node.js</a>
    </li>
    <li>
      <a href="back-end/express-js.html">Express.js</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Miscellaneous
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="misc/js-libraries.html">JS libraries</a>
    </li>
    <li>
      <a href="misc/js-testing.html">JS Testing</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">DOM manipuláció</h1>

</div>


<div id="elemekhez-való-hozzáférés" class="section level2">
<h2>Elemekhez való hozzáférés</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="kw">let</span> doc <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="at">documentElement</span>    <span class="co">// root</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="kw">let</span> head <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="at">head</span></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="kw">let</span> body <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="at">body</span></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a><span class="co">// Ha csak egy van, vagy csak az első kell</span></span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a><span class="kw">let</span> navigation <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">&quot;nav&quot;</span>)</span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a><span class="kw">let</span> button <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">&quot;.btn&quot;</span>)</span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a><span class="kw">let</span> image1 <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">&quot;#img1&quot;</span>)</span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a><span class="co">// vagy (nem kell #)</span></span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a><span class="kw">let</span> image2 <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">&quot;img2&quot;</span>)</span>
<span id="cb1-12"><a href="#cb1-12" tabindex="-1"></a></span>
<span id="cb1-13"><a href="#cb1-13" tabindex="-1"></a><span class="co">// ha több van</span></span>
<span id="cb1-14"><a href="#cb1-14" tabindex="-1"></a><span class="kw">let</span> paragraphs <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelectorAll</span>(<span class="st">&quot;p&quot;</span>)</span>
<span id="cb1-15"><a href="#cb1-15" tabindex="-1"></a><span class="kw">let</span> images <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">getElementsByTagName</span>(<span class="st">&quot;img&quot;</span>)</span>
<span id="cb1-16"><a href="#cb1-16" tabindex="-1"></a><span class="kw">let</span> tagList <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelectorAll</span>(<span class="st">&quot;.tag&quot;</span>)</span>
<span id="cb1-17"><a href="#cb1-17" tabindex="-1"></a><span class="kw">let</span> tagList2 <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">getElementsByClassName</span>(<span class="st">&quot;tag&quot;</span>)</span></code></pre></div>
<div id="queryselectorall-vs.-getelementsby" class="section level3">
<h3>querySelectorAll vs. getElementsBy…</h3>
<p>A <code>querySelectorAll</code> komplexebb
<code>CSS selectorokat</code> is elfogad, és egy
<code>Nodelist</code>-et ad, míg a <code>getElementsBy...</code>
függvények csak egyszerű nevekkel működnek, és
<code>HTMLCollections</code>-t ad vissza, amelyen pl. nem működik a
<code>forEach</code>. Ezt a <code>...</code> operátorral ki lehet
kerülni.</p>
<p>A másik különbség, hogy a <code>querySelector</code> függvények magát
az elemet másolják, míg a <code>getElementBy</code> függvények csak
referencia típusú változót (<code>live collection</code>) hoznak létre,
vagyis, ha a DOM megváltozik, ezek értékei is megváltoznak (pl. elemek
programatikus törlése).</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="kw">let</span> image <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">&quot;#intro img&quot;</span>)</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="kw">let</span> activeBtns <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelectorAll</span>(<span class="st">&quot;.btn.active&quot;</span>)</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a><span class="co">// Looping</span></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a><span class="bu">document</span><span class="op">.</span><span class="fu">querySelectorAll</span>(<span class="st">&quot;.btn&quot;</span>)<span class="op">.</span><span class="fu">forEach</span>(button <span class="kw">=&gt;</span> button<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">&quot;click&quot;</span><span class="op">,</span> () <span class="kw">=&gt;</span> {}))</span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a>[<span class="op">...</span><span class="bu">document</span><span class="op">.</span><span class="fu">getElementsByClassName</span>(<span class="st">&quot;btn&quot;</span>)]<span class="op">.</span><span class="fu">forEach</span>(button <span class="kw">=&gt;</span> {})</span></code></pre></div>
</div>
<div id="kapcsolódó-elemekhez-való-hozzáférés" class="section level3">
<h3>Kapcsolódó elemekhez való hozzáférés</h3>
<div class="sourceCode" id="cb3"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>element<span class="op">.</span><span class="at">childNodes</span>        <span class="co">// összes child node</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>element<span class="op">.</span><span class="at">children</span>          <span class="co">// összes child element</span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>element<span class="op">.</span><span class="at">firstChild</span>        <span class="co">// csak az első child node</span></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>element<span class="op">.</span><span class="at">firstElementChild</span> <span class="co">// csak az első child element</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a>element<span class="op">.</span><span class="at">lastChild</span>         <span class="co">// csak az utolsó child node</span></span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a>element<span class="op">.</span><span class="at">lastElementChild</span>  <span class="co">// csak az utolsó child element</span></span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a>element<span class="op">.</span><span class="at">hasChildNodes</span>     <span class="co">// true vagy false</span></span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a>element<span class="op">.</span><span class="at">nextSibling</span>       <span class="co">// következő ugyanazon a szinten (csak közvetlen szomszéd)</span></span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a>element<span class="op">.</span><span class="at">nextElementSibling</span>  <span class="co">// következő element</span></span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a>element<span class="op">.</span><span class="at">previousSibling</span>   <span class="co">// előző ugyanazon a szinten</span></span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a>element<span class="op">.</span><span class="at">previousElementSibling</span> <span class="co">// előző, de csak element</span></span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a>element<span class="op">.</span><span class="at">parentNode</span>        <span class="co">// parent node (közvetlen)</span></span>
<span id="cb3-13"><a href="#cb3-13" tabindex="-1"></a>element<span class="op">.</span><span class="at">parentElement</span>     <span class="co">// parent element (közvetlen)</span></span>
<span id="cb3-14"><a href="#cb3-14" tabindex="-1"></a>element<span class="op">.</span><span class="at">parentElement</span><span class="op">.</span><span class="at">children</span>  <span class="co">// a közvetlen szülő összes közvetlen gyermeke</span></span>
<span id="cb3-15"><a href="#cb3-15" tabindex="-1"></a>element<span class="op">.</span><span class="fu">closest</span>(<span class="st">&#39;div&#39;</span>)    <span class="co">// legközelebbi a selectornak megfelelő (közvetett is) felfelé</span></span>
<span id="cb3-16"><a href="#cb3-16" tabindex="-1"></a>element<span class="op">.</span><span class="fu">querySelectorAll</span>(<span class="st">&quot;a&quot;</span>)  <span class="co">// lefelé: összes link az element leszármazottai között</span></span></code></pre></div>
</div>
</div>
<div
id="elemek-tartalmához-stílusához-és-attribútumaihoz-való-hozzáférés"
class="section level2">
<h2>Elemek tartalmához, stílusához és attribútumaihoz való
hozzáférés</h2>
<p>A kiválasztott elemek tartalmáhz hozzá lehet férni pl. az
<code>innerHTML</code> vagy <code>textContent</code>, input elemek
esetén a <code>value</code> metódusokkal, a CSS stílushoz pedig a
<code>style</code> metódussal, amely segítségével minden CSS property
módosítható. A kötőjeles <code>property</code>-k neveit ebben az esetben
camelCase-ben kell írni.</p>
<p>A html elemek attribútumai közül a standard attribútumok (pl. img
esetében src, a esetében href, stb.) hozzáférhetők. A nem standard
attribútumok a <code>getAttribute()</code> függvénnyel férhetők
hozzá.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="co">// Tartalom</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="kw">let</span> text <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">&quot;p&quot;</span>)<span class="op">.</span><span class="at">textContent</span><span class="op">;</span>  <span class="co">// Csak szöveg</span></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a><span class="kw">let</span> content <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">&quot;#intro&quot;</span>)<span class="op">.</span><span class="at">innerHTML</span>   <span class="co">// szöveg a tagekkel együtt</span></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a><span class="kw">let</span> age <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">&quot;#age&quot;</span>)<span class="op">.</span><span class="at">value</span><span class="op">;</span></span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a><span class="co">// Stílus</span></span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a><span class="kw">let</span> color <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">&quot;h1&quot;</span>)<span class="op">.</span><span class="at">style</span><span class="op">.</span><span class="at">color</span><span class="op">;</span>     <span class="co">// inline style-ok</span></span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a><span class="kw">let</span> fontSize <span class="op">=</span> <span class="fu">getComputedStyle</span>(message)<span class="op">.</span><span class="at">height</span>           <span class="co">// computed CSS style-ok</span></span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a></span>
<span id="cb4-10"><a href="#cb4-10" tabindex="-1"></a><span class="co">// Attribútumok</span></span>
<span id="cb4-11"><a href="#cb4-11" tabindex="-1"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(image<span class="op">.</span><span class="at">src</span>)                    <span class="co">// Absolute path</span></span>
<span id="cb4-12"><a href="#cb4-12" tabindex="-1"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(image<span class="op">.</span><span class="fu">getAttribute</span>(<span class="st">&quot;src&quot;</span>))    <span class="co">// Relative path</span></span>
<span id="cb4-13"><a href="#cb4-13" tabindex="-1"></a></span>
<span id="cb4-14"><a href="#cb4-14" tabindex="-1"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(link<span class="op">.</span><span class="at">href</span>)                    <span class="co">// Abszolút</span></span>
<span id="cb4-15"><a href="#cb4-15" tabindex="-1"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(link<span class="op">.</span><span class="fu">getAttribute</span>(<span class="st">&quot;href&quot;</span>))    <span class="co">// Relatív</span></span>
<span id="cb4-16"><a href="#cb4-16" tabindex="-1"></a></span>
<span id="cb4-17"><a href="#cb4-17" tabindex="-1"></a><span class="kw">let</span> designer <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">&quot;#logo&quot;</span>)<span class="op">.</span><span class="fu">getAttribute</span>(<span class="st">&quot;designer&quot;</span>)   <span class="co">// non-standard attribute</span></span>
<span id="cb4-18"><a href="#cb4-18" tabindex="-1"></a></span>
<span id="cb4-19"><a href="#cb4-19" tabindex="-1"></a><span class="co">// Data attribútumok</span></span>
<span id="cb4-20"><a href="#cb4-20" tabindex="-1"></a><span class="co">// &lt;article id=&quot;electric-cars&quot; data-index-number: &quot;12314&quot;&gt;...</span></span>
<span id="cb4-21"><a href="#cb4-21" tabindex="-1"></a><span class="kw">const</span> article <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">&quot;electric-cars&quot;</span>)</span>
<span id="cb4-22"><a href="#cb4-22" tabindex="-1"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(article<span class="op">.</span><span class="at">dataset</span><span class="op">.</span><span class="at">indexNumber</span>)</span>
<span id="cb4-23"><a href="#cb4-23" tabindex="-1"></a></span>
<span id="cb4-24"><a href="#cb4-24" tabindex="-1"></a><span class="co">// Módosítás</span></span>
<span id="cb4-25"><a href="#cb4-25" tabindex="-1"></a><span class="bu">document</span><span class="op">.</span><span class="fu">querySelectorAll</span>(<span class="st">&quot;h1&quot;</span>)<span class="op">.</span><span class="at">style</span><span class="op">.</span><span class="at">fontSize</span> <span class="op">=</span> <span class="st">&quot;18px&quot;</span><span class="op">;</span></span>
<span id="cb4-26"><a href="#cb4-26" tabindex="-1"></a><span class="bu">document</span><span class="op">.</span><span class="fu">querySelectorAll</span>(<span class="st">&quot;h1&quot;</span>)<span class="op">.</span><span class="at">style</span><span class="op">.</span><span class="at">textTransform</span> <span class="op">=</span> <span class="st">&quot;uppercase&quot;</span></span>
<span id="cb4-27"><a href="#cb4-27" tabindex="-1"></a><span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">&quot;textarea&quot;</span>)<span class="op">.</span><span class="at">value</span> <span class="op">=</span> <span class="st">&quot;&quot;</span><span class="op">;</span></span>
<span id="cb4-28"><a href="#cb4-28" tabindex="-1"></a>link<span class="op">.</span><span class="at">href</span> <span class="op">=</span> <span class="st">&quot;http://www.google.com&quot;</span></span>
<span id="cb4-29"><a href="#cb4-29" tabindex="-1"></a>logo<span class="op">.</span><span class="fu">setAttribute</span>(<span class="st">&#39;company&#39;</span><span class="op">,</span> <span class="st">&#39;Bankist&#39;</span>)</span>
<span id="cb4-30"><a href="#cb4-30" tabindex="-1"></a></span>
<span id="cb4-31"><a href="#cb4-31" tabindex="-1"></a><span class="co">// Class-ok módosítása</span></span>
<span id="cb4-32"><a href="#cb4-32" tabindex="-1"></a>section<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">contains</span>(<span class="st">&quot;active&quot;</span>)</span>
<span id="cb4-33"><a href="#cb4-33" tabindex="-1"></a>section<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">add</span>(<span class="st">&quot;active&quot;</span>)</span>
<span id="cb4-34"><a href="#cb4-34" tabindex="-1"></a>section<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">remove</span>(<span class="st">&quot;active&quot;</span>)</span>
<span id="cb4-35"><a href="#cb4-35" tabindex="-1"></a>section<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">toggle</span>(<span class="st">&quot;active&quot;</span>)</span></code></pre></div>
</div>
<div id="elemek-létrehozása-hozzáadása-és-törlése"
class="section level2">
<h2>Elemek létrehozása, hozzáadása és törlése</h2>
<div class="sourceCode" id="cb5"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>insertAdjacentHTML</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a><span class="co">// Programatikus létrehozás - live element</span></span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a><span class="kw">const</span> newEl <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">createElement</span>(tagName)</span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a><span class="kw">const</span> newText <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">createTextNode</span>(string)</span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a>newEl<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">add</span>(<span class="st">&quot;class-name&quot;</span>)</span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a>newEl<span class="op">.</span><span class="fu">appendChild</span>(newText)</span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" tabindex="-1"></a><span class="co">// Klónozás</span></span>
<span id="cb5-10"><a href="#cb5-10" tabindex="-1"></a>element<span class="op">.</span><span class="fu">cloneNode</span>(<span class="kw">true</span>)   <span class="co">// incl. child elements </span></span>
<span id="cb5-11"><a href="#cb5-11" tabindex="-1"></a></span>
<span id="cb5-12"><a href="#cb5-12" tabindex="-1"></a><span class="co">// Insert and move</span></span>
<span id="cb5-13"><a href="#cb5-13" tabindex="-1"></a><span class="co">// Insert if new</span></span>
<span id="cb5-14"><a href="#cb5-14" tabindex="-1"></a><span class="co">// Move if already present</span></span>
<span id="cb5-15"><a href="#cb5-15" tabindex="-1"></a>parent<span class="op">.</span><span class="fu">prepend</span>(child)   <span class="co">// first child</span></span>
<span id="cb5-16"><a href="#cb5-16" tabindex="-1"></a>parent<span class="op">.</span><span class="fu">append</span>(child)    <span class="co">// last child</span></span>
<span id="cb5-17"><a href="#cb5-17" tabindex="-1"></a>parent<span class="op">.</span><span class="fu">appendChild</span>(child)  <span class="co">// last child</span></span>
<span id="cb5-18"><a href="#cb5-18" tabindex="-1"></a>parent<span class="op">.</span><span class="fu">insertBefore</span>(div1<span class="op">,</span> div2)  <span class="co">// as child before div2</span></span>
<span id="cb5-19"><a href="#cb5-19" tabindex="-1"></a>element<span class="op">.</span><span class="fu">before</span>(message)    <span class="co">// sibling</span></span>
<span id="cb5-20"><a href="#cb5-20" tabindex="-1"></a>element<span class="op">.</span><span class="fu">after</span>(message)     <span class="co">// sibling</span></span>
<span id="cb5-21"><a href="#cb5-21" tabindex="-1"></a></span>
<span id="cb5-22"><a href="#cb5-22" tabindex="-1"></a><span class="co">// Törlés és csere</span></span>
<span id="cb5-23"><a href="#cb5-23" tabindex="-1"></a>element<span class="op">.</span><span class="fu">remove</span>()      <span class="co">// Preferred</span></span>
<span id="cb5-24"><a href="#cb5-24" tabindex="-1"></a>parent<span class="op">.</span><span class="fu">removeChild</span>(child) <span class="co">// Supported by older browsers</span></span>
<span id="cb5-25"><a href="#cb5-25" tabindex="-1"></a>parent<span class="op">.</span><span class="fu">replaceChild</span>(newNode<span class="op">,</span> oldNode)</span></code></pre></div>
</div>
<div id="eventek-hozzáadása-és-törlése" class="section level2">
<h2>Eventek hozzáadása és törlése</h2>
<p>Az egyes DOM elemekhez Event listenereket adhatunk, amelyek bizonyos
események bekövetkeztekor függvényeket futtatnak, így lehetővé téve a
felhasználó interakcióját a weboldallal. Ilyenekből egy elemhez több is
megadható (pl. klikk, billentyű lenyomása, stb.), és ezek
programatikusan törölhetők, ha a függvény nevesített.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>button<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">&quot;click&quot;</span><span class="op">,</span> <span class="kw">function</span>() {</span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>  <span class="kw">this</span><span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">toggle</span>(<span class="st">&quot;active&quot;</span>)</span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>})</span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a><span class="bu">document</span><span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">&quot;keydown&quot;</span><span class="op">,</span> (e) <span class="kw">=&gt;</span> {</span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a>  <span class="cf">if</span> (e<span class="op">.</span><span class="at">key</span> <span class="op">===</span> <span class="st">&quot;Enter&quot;</span>) {</span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a>  </span>
<span id="cb6-7"><a href="#cb6-7" tabindex="-1"></a>  }</span>
<span id="cb6-8"><a href="#cb6-8" tabindex="-1"></a>})</span>
<span id="cb6-9"><a href="#cb6-9" tabindex="-1"></a></span>
<span id="cb6-10"><a href="#cb6-10" tabindex="-1"></a>element<span class="op">.</span><span class="fu">removeEventListener</span>(<span class="st">&quot;click&quot;</span><span class="op">,</span> funName)</span></code></pre></div>
<p>Az <code>event listeneren</code> belül a <code>this</code> a DOM
objektumra utal. Az <code>e.target</code> pedig arra az elemre
vonatkozik, ahol az adott esemény (pl. kattintás) megtörtént. Az
<code>e.currentTarget</code> az az elem, ahová a handlert csatoltuk (===
this)</p>
<div id="fontosabb-eventek" class="section level3">
<h3>Fontosabb eventek</h3>
<p><strong>click/dblclick/contextmenu:</strong><br />
Elementekhez kapcsolhatók és kattintással élesednek.<br />
Az event objektumon van egy button property, amellyel megállapítható,
melyik gombbal történt a klikkelés, illetve olyan property-k, mint a
<code>shiftKey</code>, <code>altKey</code>, <code>ctrlKey</code>,
amelyek boolean értékkel jelzik, mely további billentyűk voltak lenyomva
klikkelés közben.<br />
A kattintás helyének kezeléséhez a window-hoz viszonyított
<code>clientX</code>/<code>clientY</code> és a dokumentumhoz
viszonyított <code>pageX</code>/<code>pageY</code> property-k
használhatók.</p>
<p><em>Double click-nél mellékhatás a szöveg kijelölése. Ez
megakadályozható, ha az elementhez <code>mousedown</code> eventet
csatolunk, amelyben a <code>return false</code>-szal semlegesítjük ezt a
viselkedést.</em></p>
<p><em>Az oldal másolását meggátolhatjuk az <code>oncopy</code> event
használatával, amelyben ugyancsak a return false-szal meggátolhatjuk, és
opcionálisan felugró ablakkal figyelmeztethetjük a
felhasználót.</em></p>
<p><strong>mouseenter/mouseleave vagy mouseover/mouseout,
mousemove:</strong> Az elementekhez kapcsolhatók, és az egér mozgása
tudja elindítani ezeket. Az első két pár abban különbözik, hogy az
eventet csak az indítja el, ha maga az elem fölé húzzuk az egeret, vagy
a gyermekek is. A <code>mousemove</code> minden, az elem fölötti
egérmozgásra élesedik.</p>
<p><strong>drag&amp;drop eventek:</strong></p>
<p><strong>scroll eventek:</strong></p>
<p>Az elemek pozíciója az elemhez kapcsolódó
<code>.getBoundingClientRect()</code> metódussal kapható meg. Az adott
scroll pozíció a <code>window</code> objektum <code>scrollY</code>
property-jével férhető hozzá. A <code>scroll</code> event a legkisebb
görgetésnél is élesedik, ami nem túl gazdaságos megoldás. Jobb
alternatíva az Intersecion Observer API használata.</p>
<p><strong>keyboard eventek:</strong></p>
<p><strong>form és input eventek:</strong></p>
<p><strong>életciklus eventek:</strong> Vannak olyan esetek, amikor
egy-egy függvényt akkor akarunk futtatni, amikor a DOM/oldal betöltött,
vagy épp azelőtt, hogy valahonnan kilépünk.</p>
<p><code>DOMContentLoaded</code>: akkor élesedik, amikor a html és js
file-ok betöltenek, de ebbe nem tartoznak bele bl. a képek. A documenten
hozható létre ‘load’: akkor élesedik, amikor minden betöltött, a
window-on hozható létre ‘beforeunload’: akkor élesedik, mielőtt bezárul
az ablak, szintén a window-on hozható létre. Néhány böngészőben a
preventDefault metódust is használni kell ebben az esetben.</p>
<p><strong>További információ</strong><br />
Az eventek típusáról összefoglaló és további információk <a
href="https://developer.mozilla.org/en-US/docs/Web/Events">itt</a>
találhatók.</p>
</div>
<div id="eventek-sorrendje-bubbling-és-capturing"
class="section level3">
<h3>Eventek sorrendje: bubbling és capturing</h3>
<p><code>bubbling</code>: Belülről kifelé <code>capturing</code>:
Kívülről befelé</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>element<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">&quot;click&quot;</span><span class="op">,</span> myFunc<span class="op">,</span> useCapture)</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a><span class="co">// Bubbling</span></span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a>element<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">&quot;click&quot;</span><span class="op">,</span> myFunc<span class="op">,</span> <span class="kw">false</span>)</span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a><span class="co">// Capturing</span></span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a>element<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">&quot;click&quot;</span><span class="op">,</span> myFunc<span class="op">,</span> <span class="kw">true</span>)</span></code></pre></div>
<p>Az alapértelmezett sorrend a bubbling: először a belül lévő elemeken
élesednek a függvények (ha ua. az Event listener több szinten is hozzá
van adva). Ez a delegáció miatt hasznos tulajdonság.</p>
<p>A <strong>delegáció</strong> lényege, hogy komplexebb elemeknél a
szülő kapja az event listenert, és így nem csak az adott elemre (pl.
span-re) való kattintás, hanem a teljes befoglaló elemre (pl. div-re,
gombra) való kattintás is élesíti a függvényt.</p>
<p>A propagáció le is állítható az <code>event.stopPropagation()</code>
metódussal, de ez általában nem jó ötlet, csak komplex alkalmazásokban
lehet rá szükség.</p>
<p>Nem minden event esetében használható a propagáció. Ebben különböznek
pl. a <code>mouseenter</code>/<code>mouseleave</code> és a
<code>mouseover</code>/<code>mouseout</code> eventpárok. Utóbbiak akkor
is élesednek, ha az adott elem valamelyik gyermeke fölé megyünk egérrel
(vagy húzzuk el az egeret), míg előbbiek nem.</p>
<p>Az <code>addEventListener</code> kaphat egy opciók objektumot is
harmadik paraméterként, amelyen szintén megadhatjuk a
<code>capture: true</code> értéket, hogy “lefelé” élesedjenek az
események (alapértelmezett értéke false).</p>
<p>Ebben szintén megadhatjuk, hogy egy esemény csak egyszer élesedhessen
(<code>once: true</code>), ami hasznos lehet pl. checkout gomboknál,
amelyeknél nem szeretnénk, hogy valaki véletlenül többször rákattintson.
Ez az opció az event élesedése után automatikusan eltávolítja a
listenert.</p>
</div>
<div id="argumentumok-hozzáadása" class="section level3">
<h3>Argumentumok hozzáadása</h3>
<p>Alapesetben az event handlerek egy függvény hivatkozást várnak. Ebben
azonban nem tudunk paramétereket megadni a függvényhez. További
argumentumokat nem fogadnak el: az első argumentum az event, a második a
callback függvény. Ez utóbbi mindig hozzáférhet az event objektumhoz,
amelyet paraméterként megkap, de ha másik paramétert is meg kell adni,
arra közvetlenül nincs lehetőség.</p>
<p>Az első lehetőség anonim függvényeket definiálni az event handlerben,
amely fő részében egy másik függvényt hívunk, a megadott paraméterekkel.
A második lehetőség pedig a <code>.bind</code> metódus használata,
amelyben a this-t bármilyen értékhez hozzáköthetjük, akár a szükséges
paraméter érétkhez. Ha több paraméterre is szükségünk van, akkor a
this-t egy array-hez vagy objektumhoz is köthetjük.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="co">// A megoldás (anonim függvény)</span></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="kw">const</span> handleHover <span class="op">=</span> <span class="kw">function</span> (e<span class="op">,</span> opacity) {</span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a>  <span class="cf">if</span> (e<span class="op">.</span><span class="at">target</span><span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">contains</span>(<span class="st">&#39;nav__link&#39;</span>)) {</span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a>    <span class="kw">const</span> link <span class="op">=</span> e<span class="op">.</span><span class="at">target</span><span class="op">;</span></span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a>    <span class="kw">const</span> siblings <span class="op">=</span> link<span class="op">.</span><span class="fu">closest</span>(<span class="st">&#39;.nav&#39;</span>)<span class="op">.</span><span class="fu">querySelectorAll</span>(<span class="st">&#39;.nav__link&#39;</span>)<span class="op">;</span></span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a>    <span class="kw">const</span> logo <span class="op">=</span> link<span class="op">.</span><span class="fu">closest</span>(<span class="st">&#39;.nav&#39;</span>)<span class="op">.</span><span class="fu">querySelector</span>(<span class="st">&#39;img&#39;</span>)<span class="op">;</span></span>
<span id="cb8-7"><a href="#cb8-7" tabindex="-1"></a></span>
<span id="cb8-8"><a href="#cb8-8" tabindex="-1"></a>    siblings<span class="op">.</span><span class="fu">forEach</span>(el <span class="kw">=&gt;</span> {</span>
<span id="cb8-9"><a href="#cb8-9" tabindex="-1"></a>      <span class="cf">if</span> (el <span class="op">!==</span> link) el<span class="op">.</span><span class="at">style</span><span class="op">.</span><span class="at">opacity</span> <span class="op">=</span> opacity<span class="op">;</span></span>
<span id="cb8-10"><a href="#cb8-10" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb8-11"><a href="#cb8-11" tabindex="-1"></a>    logo<span class="op">.</span><span class="at">style</span><span class="op">.</span><span class="at">opacity</span> <span class="op">=</span> opacity<span class="op">;</span></span>
<span id="cb8-12"><a href="#cb8-12" tabindex="-1"></a>  }</span>
<span id="cb8-13"><a href="#cb8-13" tabindex="-1"></a>}<span class="op">;</span></span>
<span id="cb8-14"><a href="#cb8-14" tabindex="-1"></a></span>
<span id="cb8-15"><a href="#cb8-15" tabindex="-1"></a>nav<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">&#39;mouseover&#39;</span><span class="op">,</span> <span class="kw">function</span>(e) {</span>
<span id="cb8-16"><a href="#cb8-16" tabindex="-1"></a>  <span class="fu">handleHover</span>(e<span class="op">,</span> <span class="fl">0.5</span>)<span class="op">;</span></span>
<span id="cb8-17"><a href="#cb8-17" tabindex="-1"></a>})<span class="op">;</span></span>
<span id="cb8-18"><a href="#cb8-18" tabindex="-1"></a>nav<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">&#39;mouseout&#39;</span><span class="op">,</span> <span class="kw">function</span>(e) {</span>
<span id="cb8-19"><a href="#cb8-19" tabindex="-1"></a>  <span class="fu">handleHover</span>(e<span class="op">,</span> <span class="dv">1</span>)<span class="op">;</span></span>
<span id="cb8-20"><a href="#cb8-20" tabindex="-1"></a>})</span>
<span id="cb8-21"><a href="#cb8-21" tabindex="-1"></a></span>
<span id="cb8-22"><a href="#cb8-22" tabindex="-1"></a><span class="co">// B megoldás (bind)</span></span>
<span id="cb8-23"><a href="#cb8-23" tabindex="-1"></a><span class="kw">const</span> handleHover <span class="op">=</span> <span class="kw">function</span> (e) {</span>
<span id="cb8-24"><a href="#cb8-24" tabindex="-1"></a>  <span class="cf">if</span> (e<span class="op">.</span><span class="at">target</span><span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">contains</span>(<span class="st">&#39;nav__link&#39;</span>)) {</span>
<span id="cb8-25"><a href="#cb8-25" tabindex="-1"></a>    <span class="kw">const</span> link <span class="op">=</span> e<span class="op">.</span><span class="at">target</span><span class="op">;</span></span>
<span id="cb8-26"><a href="#cb8-26" tabindex="-1"></a>    <span class="kw">const</span> siblings <span class="op">=</span> link<span class="op">.</span><span class="fu">closest</span>(<span class="st">&#39;.nav&#39;</span>)<span class="op">.</span><span class="fu">querySelectorAll</span>(<span class="st">&#39;.nav__link&#39;</span>)<span class="op">;</span></span>
<span id="cb8-27"><a href="#cb8-27" tabindex="-1"></a>    <span class="kw">const</span> logo <span class="op">=</span> link<span class="op">.</span><span class="fu">closest</span>(<span class="st">&#39;.nav&#39;</span>)<span class="op">.</span><span class="fu">querySelector</span>(<span class="st">&#39;img&#39;</span>)<span class="op">;</span></span>
<span id="cb8-28"><a href="#cb8-28" tabindex="-1"></a></span>
<span id="cb8-29"><a href="#cb8-29" tabindex="-1"></a>    siblings<span class="op">.</span><span class="fu">forEach</span>(el <span class="kw">=&gt;</span> {</span>
<span id="cb8-30"><a href="#cb8-30" tabindex="-1"></a>      <span class="cf">if</span> (el <span class="op">!==</span> link) el<span class="op">.</span><span class="at">style</span><span class="op">.</span><span class="at">opacity</span> <span class="op">=</span> <span class="kw">this</span><span class="op">;</span></span>
<span id="cb8-31"><a href="#cb8-31" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb8-32"><a href="#cb8-32" tabindex="-1"></a>    logo<span class="op">.</span><span class="at">style</span><span class="op">.</span><span class="at">opacity</span> <span class="op">=</span> <span class="kw">this</span><span class="op">;</span></span>
<span id="cb8-33"><a href="#cb8-33" tabindex="-1"></a>  }</span>
<span id="cb8-34"><a href="#cb8-34" tabindex="-1"></a>}<span class="op">;</span></span>
<span id="cb8-35"><a href="#cb8-35" tabindex="-1"></a></span>
<span id="cb8-36"><a href="#cb8-36" tabindex="-1"></a>nav<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">&#39;mouseover&#39;</span><span class="op">,</span> handleHover<span class="op">.</span><span class="fu">bind</span>(<span class="fl">0.5</span>))<span class="op">;</span></span>
<span id="cb8-37"><a href="#cb8-37" tabindex="-1"></a>nav<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">&#39;mouseout&#39;</span><span class="op">,</span> handleHover<span class="op">.</span><span class="fu">bind</span>(<span class="dv">1</span>))<span class="op">;</span></span></code></pre></div>
</div>
</div>
<div id="css-stílus-változtatása" class="section level2">
<h2>CSS stílus változtatása</h2>
<div class="sourceCode" id="cb9"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="co">// Custom properties</span></span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a><span class="bu">document</span><span class="op">.</span><span class="at">documentElement</span><span class="op">.</span><span class="at">style</span><span class="op">.</span><span class="fu">setProperty</span>(<span class="st">&#39;--color-primary&#39;</span><span class="op">,</span> <span class="st">&#39;orangered&#39;</span>)</span></code></pre></div>
</div>
<div id="pozíció-és-scroll" class="section level2">
<h2>Pozíció és scroll</h2>
<div class="sourceCode" id="cb10"><pre
class="sourceCode js"><code class="sourceCode javascript"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="co">// Elemek</span></span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a>element<span class="op">.</span><span class="fu">getBoundingClientRect</span>()</span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a><span class="co">// Scroll position</span></span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a><span class="bu">window</span><span class="op">.</span><span class="at">pageXOffset</span></span>
<span id="cb10-6"><a href="#cb10-6" tabindex="-1"></a><span class="bu">window</span><span class="op">.</span><span class="at">pageYOffset</span></span>
<span id="cb10-7"><a href="#cb10-7" tabindex="-1"></a></span>
<span id="cb10-8"><a href="#cb10-8" tabindex="-1"></a><span class="co">// Viewport height &amp; width</span></span>
<span id="cb10-9"><a href="#cb10-9" tabindex="-1"></a><span class="bu">document</span><span class="op">.</span><span class="at">documentElement</span><span class="op">.</span><span class="at">clientHeight</span></span>
<span id="cb10-10"><a href="#cb10-10" tabindex="-1"></a><span class="bu">document</span><span class="op">.</span><span class="at">documentElement</span><span class="op">.</span><span class="at">clientWidth</span></span>
<span id="cb10-11"><a href="#cb10-11" tabindex="-1"></a></span>
<span id="cb10-12"><a href="#cb10-12" tabindex="-1"></a><span class="co">// Scroll to</span></span>
<span id="cb10-13"><a href="#cb10-13" tabindex="-1"></a><span class="bu">window</span><span class="op">.</span><span class="fu">scrollTo</span>({</span>
<span id="cb10-14"><a href="#cb10-14" tabindex="-1"></a>  <span class="dt">left</span><span class="op">:</span> elementCoord<span class="op">.</span><span class="at">left</span> <span class="op">+</span> <span class="bu">window</span><span class="op">.</span><span class="at">pageXOffset</span><span class="op">,</span></span>
<span id="cb10-15"><a href="#cb10-15" tabindex="-1"></a>  <span class="dt">top</span><span class="op">:</span> elementCoord<span class="op">.</span><span class="at">top</span> <span class="op">+</span> <span class="bu">window</span><span class="op">.</span><span class="at">pageYOffset</span><span class="op">,</span></span>
<span id="cb10-16"><a href="#cb10-16" tabindex="-1"></a>  <span class="dt">behavior</span><span class="op">:</span> <span class="st">&quot;smooth&quot;</span><span class="op">,</span></span>
<span id="cb10-17"><a href="#cb10-17" tabindex="-1"></a>})<span class="op">;</span></span>
<span id="cb10-18"><a href="#cb10-18" tabindex="-1"></a></span>
<span id="cb10-19"><a href="#cb10-19" tabindex="-1"></a>element<span class="op">.</span><span class="fu">scrollIntoView</span>({ <span class="dt">behavior</span><span class="op">:</span> <span class="st">&quot;smooth&quot;</span> })<span class="op">;</span></span></code></pre></div>
<div id="intesectionobserver" class="section level3">
<h3>IntesectionObserver</h3>
<p>Használatához először egy új observert kell létrehozni. Ezután a
létrehozott observer meg tudja figyelni a kívánt objektumot. Megadunk
továbbá egy objektumot, amely a figyelés opcióit tartalmazza, és egy
callback függvényt, amelyet végre fog hajtani.</p>
<p>Az opciókban megadunk egy root elementet, amellyel figyeljük a
megadott element átfedését. Ha <code>null</code>-t adunk meg, akkor a
viewportot figyeljük. A második opció, a threshold adja meg, mekkora
átfedésnél élesedik a függvény. Ez lehet egyetlen érték vagy array is.
Harmadik opcióként megadhatunk egy margin értéket (csak px-ben),
amennyivel korábban/később élesedik a függvény (pl. a navigáció
magasságával eltolhatjuk).</p>
<p>A callback függvény automatikusan hozzáfér egyrészt a megfigyelt
elemhez (IntersectionObserverEntry), és magához az observerhez, ami
révén például eltávolítható az observer az elemről, ha teljesül
valamilyen feltétel, és már nincs rá szükség (pl. előtűnő szekciók, lazy
loading után). A megfigyelt elemen megjelenik az isIntersecting
tulajdonság, amelyet fel tudunk használni. A függvény mindig élesedik,
ha valamelyik irányba átlépjük a küszöböt.</p>
<p>Az opciók és a függvény közvetlenül az új observer paramétereiként is
megadható, de külön is létrehozható.</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode js"><code class="sourceCode javascript"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="co">// callback</span></span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a><span class="kw">const</span> stickyNav <span class="op">=</span> <span class="kw">function</span> (entries) {</span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a>  <span class="kw">const</span> [entry] <span class="op">=</span> entries<span class="op">;</span></span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" tabindex="-1"></a>  <span class="cf">if</span> (<span class="op">!</span>entry<span class="op">.</span><span class="at">isIntersecting</span>) nav<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">add</span>(<span class="st">&#39;sticky&#39;</span>)<span class="op">;</span></span>
<span id="cb11-6"><a href="#cb11-6" tabindex="-1"></a>  <span class="cf">else</span> nav<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">remove</span>(<span class="st">&#39;sticky&#39;</span>)<span class="op">;</span></span>
<span id="cb11-7"><a href="#cb11-7" tabindex="-1"></a>}<span class="op">;</span></span>
<span id="cb11-8"><a href="#cb11-8" tabindex="-1"></a></span>
<span id="cb11-9"><a href="#cb11-9" tabindex="-1"></a><span class="kw">const</span> navHeight <span class="op">=</span> nav<span class="op">.</span><span class="fu">getBoundingClientRect</span>()<span class="op">.</span><span class="at">height</span><span class="op">;</span></span>
<span id="cb11-10"><a href="#cb11-10" tabindex="-1"></a></span>
<span id="cb11-11"><a href="#cb11-11" tabindex="-1"></a><span class="co">// observer, opciók közvetlenül megadva</span></span>
<span id="cb11-12"><a href="#cb11-12" tabindex="-1"></a><span class="kw">const</span> headerObserver <span class="op">=</span> <span class="kw">new</span> <span class="fu">IntersectionObserver</span>(stickyNav<span class="op">,</span> {</span>
<span id="cb11-13"><a href="#cb11-13" tabindex="-1"></a>  <span class="dt">root</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb11-14"><a href="#cb11-14" tabindex="-1"></a>  <span class="dt">treshold</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb11-15"><a href="#cb11-15" tabindex="-1"></a>  <span class="dt">rootMargin</span><span class="op">:</span> <span class="vs">`-</span><span class="sc">${</span>navHeight<span class="sc">}</span><span class="vs">px`</span><span class="op">,</span></span>
<span id="cb11-16"><a href="#cb11-16" tabindex="-1"></a>})<span class="op">;</span></span>
<span id="cb11-17"><a href="#cb11-17" tabindex="-1"></a></span>
<span id="cb11-18"><a href="#cb11-18" tabindex="-1"></a><span class="co">// megfigyelés indítása</span></span>
<span id="cb11-19"><a href="#cb11-19" tabindex="-1"></a>headerObserver<span class="op">.</span><span class="fu">observe</span>(header)<span class="op">;</span></span>
<span id="cb11-20"><a href="#cb11-20" tabindex="-1"></a></span>
<span id="cb11-21"><a href="#cb11-21" tabindex="-1"></a><span class="co">// Reveal sections</span></span>
<span id="cb11-22"><a href="#cb11-22" tabindex="-1"></a><span class="kw">const</span> revealSection <span class="op">=</span> <span class="kw">function</span> (entries<span class="op">,</span> observer) {</span>
<span id="cb11-23"><a href="#cb11-23" tabindex="-1"></a>  <span class="kw">const</span> [entry] <span class="op">=</span> entries<span class="op">;</span></span>
<span id="cb11-24"><a href="#cb11-24" tabindex="-1"></a></span>
<span id="cb11-25"><a href="#cb11-25" tabindex="-1"></a>  <span class="cf">if</span> (<span class="op">!</span>entry<span class="op">.</span><span class="at">isIntersecting</span>) <span class="cf">return</span><span class="op">;</span></span>
<span id="cb11-26"><a href="#cb11-26" tabindex="-1"></a></span>
<span id="cb11-27"><a href="#cb11-27" tabindex="-1"></a>  entry<span class="op">.</span><span class="at">target</span><span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">remove</span>(<span class="st">&#39;section--hidden&#39;</span>)<span class="op">;</span></span>
<span id="cb11-28"><a href="#cb11-28" tabindex="-1"></a>  observer<span class="op">.</span><span class="fu">unobserve</span>(entry<span class="op">.</span><span class="at">target</span>)<span class="op">;</span></span>
<span id="cb11-29"><a href="#cb11-29" tabindex="-1"></a>}<span class="op">;</span></span>
<span id="cb11-30"><a href="#cb11-30" tabindex="-1"></a></span>
<span id="cb11-31"><a href="#cb11-31" tabindex="-1"></a><span class="kw">const</span> sectionObserver <span class="op">=</span> <span class="kw">new</span> <span class="fu">IntersectionObserver</span>(revealSection<span class="op">,</span> {</span>
<span id="cb11-32"><a href="#cb11-32" tabindex="-1"></a>  <span class="dt">root</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb11-33"><a href="#cb11-33" tabindex="-1"></a>  <span class="dt">threshold</span><span class="op">:</span> <span class="fl">0.15</span><span class="op">,</span></span>
<span id="cb11-34"><a href="#cb11-34" tabindex="-1"></a>})<span class="op">;</span></span>
<span id="cb11-35"><a href="#cb11-35" tabindex="-1"></a>allSections<span class="op">.</span><span class="fu">forEach</span>(<span class="kw">function</span> (section) {</span>
<span id="cb11-36"><a href="#cb11-36" tabindex="-1"></a>  sectionObserver<span class="op">.</span><span class="fu">observe</span>(section)<span class="op">;</span></span>
<span id="cb11-37"><a href="#cb11-37" tabindex="-1"></a>  section<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">add</span>(<span class="st">&#39;section--hidden&#39;</span>)<span class="op">;</span></span>
<span id="cb11-38"><a href="#cb11-38" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
